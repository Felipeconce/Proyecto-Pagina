/* Estilos para pagos atrasados */
.atrasado-indicator {
  position: absolute;
  top: 0;
  right: 0;
  color: #ef4444;
  font-size: 14px;
  animation: pulse 1.5s infinite;
  padding: 2px;
  background-color: rgba(239, 68, 68, 0.1);
  border-radius: 0 4px 0 4px;
  width: 14px;
  height: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
}

/* Estilos para el contenedor principal de pagos */
.pagos-container {
  position: relative;
  background-color: white;
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  margin-bottom: 2rem;
}

/* Título principal de pagos */
.pagos-titulo {
  font-size: 1.5rem;
  font-weight: 600;
  text-align: center;
  margin-bottom: 1.25rem;
  color: #1e293b;
  padding-bottom: 0.75rem;
  border-bottom: 2px solid #e5e7eb;
}

/* Estado de carga y spinner */
.estado-carga {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px 20px;
  background-color: white;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
}

.spinner {
  width: 40px;
  height: 40px;
  border: 4px solid rgba(59, 130, 246, 0.2);
  border-radius: 50%;
  border-top-color: #3b82f6;
  animation: spin 1s linear infinite;
  margin-bottom: 15px;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Estado de error */
.estado-error {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 30px 20px;
  background-color: #fee2e2;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  border: 1px solid #fecaca;
  margin-bottom: 1.5rem;
}

.estado-error p {
  margin: 15px 0;
  text-align: center;
  color: #b91c1c;
  font-weight: 500;
}

.btn-retry {
  background-color: #ef4444;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 6px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.btn-retry:hover {
  background-color: #dc2626;
  transform: translateY(-2px);
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

/* Mensaje sin datos */
.no-data {
  padding: 30px;
  text-align: center;
  background-color: #f1f5f9;
  border-radius: 8px;
  margin-bottom: 1rem;
  border: 1px dashed #cbd5e1;
}

.no-data p {
  color: #64748b;
  font-weight: 500;
}

/* Estilos para contenedor de tabla mejorado */
/* Quitar estilos conflictivos con .table-container */
/* 
.tabla-contenedor {
  overflow-x: auto;
  width: 100%;
  border-radius: 8px;
  background-color: white;
  border: 1px solid #e5e7eb;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
  max-width: 100%;
}
*/

/* Barra de desplazamiento principal con la tabla */
.tabla-scroll-main {
  overflow-x: auto !important;
  overflow-y: auto !important;
  width: 100%;
  background-color: white !important;
}

/* Estilos personalizados para barras de desplazamiento */
.tabla-scroll-main::-webkit-scrollbar {
  height: 8px;
  width: 8px;
}

.tabla-scroll-main::-webkit-scrollbar-track {
  background: #f1f5f9;
  border-radius: 4px;
}

.tabla-scroll-main::-webkit-scrollbar-thumb {
  background-color: #94a3b8;
  border-radius: 4px;
  border: 2px solid #f1f5f9;
}

.tabla-scroll-main::-webkit-scrollbar-thumb:hover {
  background-color: #64748b;
}

/* Estilos para la tabla de pagos - Usar .table-modern de App.css */
/* 
.pagos-table {
  width: 100%;
  border-collapse: collapse;
  margin: 0;
  background-color: white;
  font-family: 'Inter', system-ui, sans-serif;
  table-layout: fixed;
  font-size: 0.9rem;
}
*/

/* Mantener la columna de Alumno fija - Simplificar */
.sticky-col {
  position: sticky !important;
  left: 0 !important;
  z-index: 2 !important;
  min-width: 200px !important;
  width: 200px !important;
  text-align: left !important;
  padding: 12px !important;
  font-weight: 500 !important;
  box-shadow: 4px 0 8px -4px rgba(0, 0, 0, 0.15);
  /* background-color: var(--color-bg); */
}

/* Estilo para columnas de conceptos - Quitar !important */
.concepto-col {
  min-width: 80px;
  width: 80px;
  max-width: 80px;
  text-align: center;
  padding: 10px 8px; /* Ajustar padding si es necesario */
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  font-size: 0.85rem;
}

/* Estilos para estados de pagos - Usar variables */
.pago-completado {
  color: var(--color-text);
  font-weight: 500;
  background-color: var(--color-success-bg) !important;
}

.pago-pendiente {
  color: var(--color-text);
  font-weight: 500;
  background-color: var(--color-warning-bg) !important;
}

.pago-atrasado {
  color: var(--color-text);
  font-weight: 500;
  background-color: var(--color-error-bg) !important;
}

/* Ajuste para estados de celda en columna fija */
.sticky-col.pago-completado {
  background-color: var(--color-success-bg) !important;
}

.sticky-col.pago-pendiente {
  background-color: var(--color-warning-bg) !important;
}

.sticky-col.pago-atrasado {
  background-color: var(--color-error-bg) !important;
}

/* Contenedor de la tabla de pagos */
.tabla-pagos-wrapper {
  margin-bottom: 1.5rem;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  border: 1px solid #e5e7eb;
}

/* Leyenda mejorada */
.pagos-leyenda {
  display: flex;
  gap: 20px;
  justify-content: center;
  margin-top: 24px;
  padding: 12px 16px;
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
  border: 1px solid #e5e7eb;
}

.leyenda-item {
  display: flex;
  align-items: center;
  gap: 8px;
}

.leyenda-color {
  width: 16px;
  height: 16px;
  border-radius: 4px;
}

.leyenda-color.pagado {
  background-color: #dcfce7;
  border: 1px solid #22c55e;
}

.leyenda-color.pendiente {
  background-color: #fff7ed;
  border: 1px solid #f97316;
}

.leyenda-color.atrasado {
  background-color: #fee2e2;
  border: 1px solid #ef4444;
}

.leyenda-item span {
  font-size: 0.9rem;
  font-weight: 500;
  color: #1e293b;
}

/* Estilos para la sección de Nuevo Cobro */
.nuevo-cobro-container {
  background-color: white;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  margin-bottom: 2rem;
  border: 1px solid #e5e7eb;
}

/* Contenedor para las barras de desplazamiento de la tabla */
.tabla-scroll-container {
  overflow-x: auto !important;
  width: 100%;
  scrollbar-width: thin;
  scrollbar-color: #94a3b8 #f1f5f9;
}

/* Barra de desplazamiento superior */
.tabla-scroll-top {
  border-bottom: 1px solid #e5e7eb;
  height: 20px;
  margin-bottom: 0;
  padding: 0;
  background-color: #f8fafc;
  border-top-left-radius: 12px;
  border-top-right-radius: 12px;
  overflow-y: hidden !important;
}

.tabla-scroll-inner {
  width: 100%;
  height: 20px;
}

/* Script para sincronizar las barras de desplazamiento */
@media screen {
  .tabla-scroll-top, .tabla-scroll-main {
    scrollbar-width: thin;
    scrollbar-color: #94a3b8 #f1f5f9;
  }
}

/* Estilos personalizados para barras de desplazamiento */
.tabla-scroll-container::-webkit-scrollbar {
  height: 10px;
  width: 10px;
}

.tabla-scroll-container::-webkit-scrollbar-track {
  background: #f1f5f9;
  border-radius: 4px;
}

.tabla-scroll-container::-webkit-scrollbar-thumb {
  background-color: #94a3b8;
  border-radius: 4px;
  border: 2px solid #f1f5f9;
}

.tabla-scroll-container::-webkit-scrollbar-thumb:hover {
  background-color: #64748b;
}

.nuevo-cobro-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 18px;
  background-color: #f1f5f9;
  cursor: pointer;
  transition: all 0.2s ease;
}

.nuevo-cobro-header:hover {
  background-color: #e2e8f0;
}

.nuevo-cobro-header h3 {
  margin: 0;
  font-size: 1.2rem;
  font-weight: 600;
  color: #1e293b;
}

.arrow-icon {
  font-size: 0.9rem;
  color: #64748b;
  transition: transform 0.3s ease;
}

.arrow-icon.collapsed {
  transform: rotate(-90deg);
}

.nuevo-cobro-content {
  padding: 18px;
  border-top: 1px solid #e5e7eb;
}

.nuevo-cobro-form {
  margin-bottom: 18px;
}

.form-row {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  flex-wrap: wrap;
}

.form-group {
  flex: 1;
  min-width: 200px;
  position: relative;
}

.cobro-input {
  width: 100%;
  padding: 10px 14px;
  border: 1px solid #d1d5db;
  border-radius: 8px;
  font-size: 0.95rem;
  transition: all 0.2s ease;
}

.cobro-input:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
}

.date-input {
  min-width: 140px;
}

.add-button {
  width: 40px;
  height: 40px;
  border: none;
  border-radius: 8px;
  background-color: #3b82f6;
  color: white;
  font-size: 1.5rem;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}

.add-button:hover {
  background-color: #2563eb;
  transform: translateY(-2px);
  box-shadow: 0 3px 8px rgba(59, 130, 246, 0.3);
}

.add-button:disabled {
  background-color: #94a3b8;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.items-selector {
  display: flex;
  gap: 12px;
  align-items: center;
  margin-bottom: 18px;
}

.cobro-select {
  flex: 1;
  padding: 10px 14px;
  border: 1px solid #d1d5db;
  border-radius: 8px;
  font-size: 0.95rem;
  background-color: white;
  cursor: pointer;
}

.cobro-select:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
}

.item-actions {
  display: flex;
  gap: 8px;
}

.action-button {
  width: 40px;
  height: 40px;
  border: none;
  border-radius: 8px;
  background-color: #f1f5f9;
  color: #64748b;
  font-size: 1.2rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}

.action-button:hover {
  background-color: #e2e8f0;
  transform: translateY(-2px);
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

.action-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.edit-button:hover {
  background-color: #dbeafe;
  color: #2563eb;
}

.delete-button:hover {
  background-color: #fee2e2;
  color: #b91c1c;
}

.edit-form {
  background-color: #f8fafc;
  padding: 18px;
  border-radius: 8px;
  margin-top: 12px;
  border: 1px solid #e2e8f0;
}

.edit-form h4 {
  margin: 0 0 14px 0;
  font-size: 1rem;
  color: #334155;
}

.edit-actions {
  display: flex;
  gap: 8px;
}

.save-edit-button, .cancel-edit-button {
  width: auto;
  padding: 0 16px;
}

.save-edit-button {
  background-color: #22c55e;
  color: white;
}

.save-edit-button:hover {
  background-color: #16a34a;
}

.cancel-edit-button {
  background-color: #ef4444;
  color: white;
}

.cancel-edit-button:hover {
  background-color: #dc2626;
}

.error-hint {
  color: #ef4444;
  font-size: 0.75rem;
  margin-top: 2px;
  display: block;
}

/* Estilo para el modal de edición de pagos */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.modal-content {
  background-color: white;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  width: 100%;
  max-width: 400px;
}

.modal-content h3 {
  margin-top: 0;
  margin-bottom: 15px;
  font-size: 1.2rem;
  color: #1e293b;
}

.modal-input {
  width: 100%;
  padding: 10px;
  border: 1px solid #d1d5db;
  border-radius: 6px;
  margin-bottom: 15px;
}

.modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

.btn-guardar, .btn-cancelar {
  padding: 8px 16px;
  border: none;
  border-radius: 6px;
  font-weight: 500;
  cursor: pointer;
}

.btn-guardar {
  background-color: #22c55e;
  color: white;
}

.btn-cancelar {
  background-color: #ef4444;
  color: white;
}

.btn-guardar:hover {
  background-color: #16a34a;
}

.btn-cancelar:hover {
  background-color: #dc2626;
}

/* Excepción para PAP - no debe aparecer como atrasado si no pasó el 8 de mayo */
.pago-atrasado[data-concepto-nombre="PAP"] {
  color: inherit !important;
  font-weight: normal;
  background-color: transparent !important;
  box-shadow: none !important;
}

/* En el caso específico de que PAP realmente esté atrasado (después del 8 de mayo), 
   esta clase específica puede ser aplicada por JavaScript */
.pago-atrasado[data-concepto-nombre="PAP"].realmente-atrasado {
  color: #ef4444 !important;
  font-weight: 600;
  background-color: #fee2e2 !important;
}

/* Estilo para conceptos personalizados atrasados */
.pago-atrasado[data-concepto-personalizado="true"] {
  background-color: #fecaca !important; /* Más oscuro para conceptos personalizados */
  font-weight: 700;
  text-decoration: underline;
  box-shadow: 0 0 5px rgba(239, 68, 68, 0.8) inset; /* Sombra interna */
}

/* Sobreescribir para PAP - mantener consistente con la regla anterior */
.pago-atrasado[data-concepto-personalizado="true"][data-concepto-nombre="PAP"] {
  background-color: transparent !important;
  font-weight: normal;
  text-decoration: none;
  box-shadow: none !important;
}

/* Estilo especial para conceptos personalizados sin fecha de vencimiento */
.pago-atrasado[data-concepto-personalizado="true"][data-sin-fecha="true"] {
  background: repeating-linear-gradient(
    45deg,
    rgba(239, 68, 68, 0.15),
    rgba(239, 68, 68, 0.15) 10px,
    rgba(239, 68, 68, 0.25) 10px,
    rgba(239, 68, 68, 0.25) 20px
  ) !important; /* Patrón de rayas para conceptos sin fecha */
}

/* Estilo para el monto en la celda */
.monto-celda {
  font-size: 1rem;
  font-weight: 600;
  transition: all 0.2s ease;
}

/* Estilos para columnas de conceptos */
.pagos-table th:not(:first-child),
.pagos-table td:not(:first-child) {
  min-width: 100px !important;
  max-width: 120px !important;
  text-align: center !important;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Estilos base para la tabla de pagos - Funcionales para sticky */

.table-modern { /* Clase de la tabla principal */
    min-width: 1200px; /* O un valor que fuerce el scroll horizontal */
    border-collapse: collapse;
    width: 100%;
}

.table-modern th,
.table-modern td {
    padding: 10px; /* Padding base, será ajustado por reglas más específicas si es necesario */
    border: 1px solid #ddd; /* Borde simple para la prueba */
    min-width: 120px; /* Ancho mínimo de celda general */
    text-align: left;
    background-color: #f7f7f7; /* Fondo base opaco para celdas no fijas */
}

/* --- Columna Fija --- */
.table-modern .sticky-col {
    position: -webkit-sticky;
    position: sticky;
    left: 0;
    background-color: white !important; /* Fondo blanco opaco */
    z-index: 20 !important; 
    border-right: 2px solid black !important; /* Borde visual */
    opacity: 1 !important; /* Asegurar opacidad */
    
    /* Estilos adicionales para .sticky-col (del PagosStyles.css original) */
    min-width: 200px; /* Ajustado del original */
    width: 200px; /* Ajustado del original */
    text-align: left; /* Del original */
    padding: 12px 8px; /* Padding específico para la sticky col */
    font-weight: 500; /* Del original */
    box-shadow: 4px 0 8px -4px rgba(0, 0, 0, 0.15); /* Sombra funcional */
}

.table-modern thead .sticky-col {
    background-color: #e0e0e0 !important; /* Fondo gris opaco para encabezado fijo */
    z-index: 30 !important;
    font-weight: 600; /* El original tenía 600 para thead .sticky-col */
    text-align: left; /* Asegurar alineación para el header */
    padding: 12px 8px; /* Consistencia con td sticky */
}

/* --- Colores de Estado de Pago (usando variables CSS globales) --- */
/* Para celdas de datos (tanto fijas como no fijas) */
.table-modern td.pago-completado,
.table-modern .sticky-col.pago-completado { 
    background-color: var(--color-success-bg) !important; 
    color: var(--color-success); /* O var(--color-text) si se prefiere */
}

.table-modern td.pago-pendiente,
.table-modern .sticky-col.pago-pendiente { 
    background-color: var(--color-warning-bg) !important; 
    color: var(--color-warning);
}

.table-modern td.pago-atrasado,
.table-modern .sticky-col.pago-atrasado { 
    background-color: var(--color-error-bg) !important; 
    color: var(--color-error);
}

/* --- Estilos para columnas de conceptos (del PagosStyles.css original, sin !important) --- */
.concepto-col { /* Esta clase se aplica a th y td de conceptos */
  min-width: 80px;
  width: 80px;
  max-width: 80px;
  text-align: center;
  padding: 10px 8px; /* Padding específico para concepto-col */
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  font-size: 0.85rem;
}

/* Aquí se pueden añadir gradualmente otros estilos de PagosStyles.css original,
   como .pagos-container, .pagos-titulo, .pagos-leyenda, etc.
   pero probando la columna fija después de cada adición importante. */

/* Por ejemplo, la sombra que tenías en .sticky-col en PagosStyles.css original: */
/* .table-modern .sticky-col {
    box-shadow: 4px 0 8px -4px rgba(0, 0, 0, 0.15);
   } */

/* Estilos para el Popup de Edición de Pago */
.edit-pago-popup {
  position: absolute; /* Asegurar que position sea absolute */
  z-index: 1050;      /* Asegurar un z-index alto */
  background-color: #ffffff; /* Fondo blanco, puedes cambiarlo */
  border: 1px solid #dee2e6; /* Borde sutil, similar a Bootstrap */
  border-radius: 0.3rem; /* Bordes redondeados */
  padding: 1rem; /* Espaciado interno */
  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15); /* Sombra más pronunciada */
  /* min-width: 250px; /* Un ancho mínimo para que no sea demasiado pequeño */ 
  /* El minWidth se establece dinámicamente en el style inline, pero puedes tener uno base aquí */
  /* position: absolute; Ya se establece inline */
  /* z-index: 1050; Ya se establece inline */
}

.edit-pago-popup h3 {
  font-size: 1.25rem; /* Tamaño de fuente para el título */
  color: #343a40; /* Color de texto oscuro */
  margin-top: 0;
  margin-bottom: 1rem;
  font-weight: 500;
}

.edit-pago-popup input[type="number"],
.edit-pago-popup input.modal-input /* Si usa esta clase específicamente */ {
  display: block;
  width: 100%;
  padding: 0.5rem 0.75rem;
  font-size: 1rem;
  line-height: 1.5;
  color: #495057;
  background-color: #fff;
  background-clip: padding-box;
  border: 1px solid #ced4da;
  border-radius: 0.25rem;
  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
  box-sizing: border-box; /* Para que el padding no aumente el ancho total */
  margin-bottom: 1rem;
}

.edit-pago-popup input[type="number"]:focus,
.edit-pago-popup input.modal-input:focus {
  color: #495057;
  background-color: #fff;
  border-color: #80bdff; /* Color de borde al enfocar, similar a Bootstrap */
  outline: 0;
  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25); /* Sombra al enfocar */
}

.edit-pago-popup .modal-actions {
  display: flex;
  justify-content: flex-end; /* Alinea los botones a la derecha */
  gap: 0.5rem; /* Espacio entre botones */
}

.edit-pago-popup button {
  padding: 0.5rem 1rem;
  font-size: 0.9rem;
  border-radius: 0.25rem;
  border: 1px solid transparent;
  cursor: pointer;
  transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out;
  font-weight: 500;
}

/* Estilo para el botón de Guardar (btn-guardar o similar) */
.edit-pago-popup button.btn-guardar {
  color: #fff;
  background-color: #28a745; /* Verde */
  border-color: #28a745;
}

.edit-pago-popup button.btn-guardar:hover {
  background-color: #218838;
  border-color: #1e7e34;
}

/* Estilo para el botón de Cancelar (btn-cancelar o similar) */
.edit-pago-popup button.btn-cancelar {
  color: #fff;
  background-color: #dc3545; /* Rojo */
  border-color: #dc3545;
}

.edit-pago-popup button.btn-cancelar:hover {
  background-color: #c82333;
  border-color: #bd2130;
}

/* Si no usas clases btn-guardar/btn-cancelar, puedes usar selectores de tipo si son los únicos botones */
/* 
.edit-pago-popup .modal-actions button:nth-of-type(1) { // Asumiendo que Guardar es el primero
  color: #fff;
  background-color: #28a745; 
  border-color: #28a745;
}
.edit-pago-popup .modal-actions button:nth-of-type(1):hover {
  background-color: #218838;
  border-color: #1e7e34;
}

.edit-pago-popup .modal-actions button:nth-of-type(2) { // Asumiendo que Cancelar es el segundo
  color: #fff;
  background-color: #6c757d; // Gris, o el color que prefieras para cancelar
  border-color: #6c757d;
}
.edit-pago-popup .modal-actions button:nth-of-type(2):hover {
  background-color: #5a6268;
  border-color: #545b62;
}
*/ 